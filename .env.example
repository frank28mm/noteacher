# OpenAI (可选主模型)
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
MODEL_REASONING=gpt-4o
MODEL_VISION=gpt-4o

# SiliconFlow - Qwen3-VL (视觉)
SILICON_API_KEY=
SILICON_BASE_URL=https://api.siliconflow.cn/v1
SILICON_VISION_MODEL=Qwen/Qwen3-VL-32B-Thinking
SILICON_REASONING_MODEL=Qwen/Qwen2.5-72B-Instruct

# 火山方舟 - Doubao 视觉
ARK_API_KEY=
ARK_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
ARK_VISION_MODEL=doubao-seed-1-6-vision-250815
# 火山方舟 - Doubao 推理（grade/chat）
ARK_REASONING_MODEL=doubao-seed-1-6-vision-250815

# Supabase (Storage + Database)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-or-service-key
SUPABASE_BUCKET=homework-images

# Baidu PaddleOCR-VL (OCR + 版面分析)
# 获取 access_token:
#   https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=<API_KEY>&client_secret=<SECRET_KEY>
BAIDU_OCR_API_KEY=
BAIDU_OCR_SECRET_KEY=
BAIDU_OCR_OAUTH_URL=https://aip.baidubce.com/oauth/2.0/token
# 文档解析（PaddleOCR-VL）
BAIDU_OCR_SUBMIT_URL=https://aip.baidubce.com/rest/2.0/brain/online/v2/paddle-vl-parser/task
BAIDU_OCR_QUERY_URL=https://aip.baidubce.com/rest/2.0/brain/online/v2/paddle-vl-parser/task/query
# 轮询/超时（可选）
BAIDU_OCR_TIMEOUT_SECONDS=60
BAIDU_OCR_POLL_INTERVAL_SECONDS=1
BAIDU_OCR_POLL_MAX_SECONDS=60

# BBox + Slice（切片生成）
SLICE_PADDING_RATIO=0.05
SLICE_TTL_SECONDS=86400

# SLA / Time budgets（秒）
# - 完成 SLA：允许慢图/慢推理，但必须在该时间内结束（否则返回失败）
# - Vision/LLM 子预算：用于快速失败和避免线程堆积
GRADE_COMPLETION_SLA_SECONDS=600
GRADE_VISION_TIMEOUT_SECONDS=240
GRADE_LLM_TIMEOUT_SECONDS=300
VISION_CLIENT_TIMEOUT_SECONDS=240
LLM_CLIENT_TIMEOUT_SECONDS=300

# 并发限制（避免阻塞调用堆积）
MAX_CONCURRENT_VISION=2
MAX_CONCURRENT_LLM=4

# Demo UI 客户端超时（必须 >= GRADE_COMPLETION_SLA_SECONDS，否则 UI 可能先超时显示“系统报错”但后端仍在运行）
DEMO_GRADE_TIMEOUT_SECONDS=660

# QIndex worker queue（需要 Redis）
QINDEX_QUEUE_NAME=qindex:queue

# 通用
LOG_LEVEL=INFO
LOG_TO_FILE=1
LOG_FILE_PATH=logs/backend.log
API_BASE_URL=http://127.0.0.1:8000/api/v1
